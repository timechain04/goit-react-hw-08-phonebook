"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[60],{3060:function(e,n,r){r.r(n),r.d(n,{default:function(){return L}});var t=r(2791),a=r(7689),o=r(8650),s=r(5048),c=r(5295),i=r(3917),d=r(9163),u=r(3329),l=function(){var e=(0,s.I0)(),n=(0,s.v9)((function(e){return e.filter}));return(0,u.jsxs)(i.K,{w:"400px",my:"4",children:[(0,u.jsx)("p",{children:" Find contacts by name"}),(0,u.jsx)(d.I,{onChange:function(n){e((0,c.T)(n.currentTarget.value.toLowerCase()))},value:n,type:"text",name:"filter"})]})},p=r(1413),x=r(6501),h=r(9439),m=r(9085),b=r(824),f=r(6582),g=r(9055),j=function(e){var n=e.name,r=e.number,a=e.id,o=(0,x.zr)(),s=(0,h.Z)(o,2),c=s[0],i=s[1],d=i.isLoading,l=i.isSuccess,p=i.error;return(0,t.useEffect)((function(){l&&m.Am.info(" ".concat(n," removed from the phonebook")),p&&m.Am.error("oops something went wrong")}),[l,n,p]),(0,u.jsx)(b.xu,{mb:"5",children:(0,u.jsxs)(f.k,{alignItems:"center",justifyContent:"space-between",w:"400px",mb:"5",border:"1px solid #000",p:"10px",borderRadius:"10px",backgroundColor:"#fff",children:[n,": ",r,(0,u.jsx)(g.z,{type:"button",height:"30px",border:"rgba(0, 0, 0, 0.3) 1px solid",borderRadius:"3px",backgroundColor:"burlywood",_hover:{bg:"red"},onClick:function(){return c(a)},disabled:d,children:d?"Delete...":"Delete"})]})},a)},w=r(2577),v=function(){var e=(0,x.pG)(),n=e.data,r=e.isFetching,t=(0,s.v9)((function(e){return e.filter})),a=n&&n.filter((function(e){return e.name.toLowerCase().includes(t)}));return(0,u.jsxs)(u.Fragment,{children:[n&&0!==n.length&&(0,u.jsx)("ul",{children:0!==a.length?a.map((function(e){return(0,u.jsx)(j,(0,p.Z)({},e),e.id)})):(0,u.jsxs)("p",{children:["there is no such contact: ",t]})}),n&&0===n.length&&(0,u.jsx)("p",{children:"Contact list is empty!"}),r&&(0,u.jsx)(w.$,{thickness:"1px",speed:"2s",emptyColor:"gray.200",color:"green.500",size:"xl"})]})},C=function(){var e=(0,x.F3)(),n=(0,h.Z)(e,2),r=n[0],a=n[1],o=a.isLoading,s=a.isSuccess,c=a.error,l=(0,x.pG)().data,p=(0,t.useState)(""),b=(0,h.Z)(p,2),f=b[0],j=b[1],w=(0,t.useState)(""),v=(0,h.Z)(w,2),C=v[0],y=v[1],k=(0,t.useState)(""),A=(0,h.Z)(k,2),Z=A[0],_=A[1];(0,t.useEffect)((function(){s&&m.Am.success(" ".concat(Z," added to contact book"),{autoClose:800}),c&&m.Am.error("oops something went wrong")}),[c,s,Z]);var S=function(e){var n=e.currentTarget,r=n.name,t=n.value;switch(r){case"name":j(t);break;case"number":y(t);break;default:return}};return(0,u.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),_(f),l.every((function(e){return e.name.toLowerCase()!==f.toLowerCase()}))?r({name:f,number:C}):m.Am.error("".concat(f," is already in phonebook")),j(""),y("")},children:(0,u.jsxs)(i.K,{w:"400px",mx:"auto",my:"6",spacing:4,children:[(0,u.jsx)("p",{children:"Name"}),(0,u.jsx)(d.I,{onChange:S,value:f,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,u.jsx)("p",{children:"Number"}),(0,u.jsx)(d.I,{onChange:S,value:C,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,u.jsx)(g.z,{colorScheme:"gray",type:"submit",bg:"burlywood",width:"100%",borderRadius:"3px",padding:"23px",color:"white",_hover:{bg:"#38a6b4"},disabled:!C||!f,children:o?"Add Contact...Spiner":"Add Contact"})]})})},y=r(4925),k=r(5597),A=r(6232),Z=r(2996),_=r(5113),S=r(6992),z=["className"],N=(0,k.G)((function(e,n){var r=(0,A.mq)("Heading",e),t=(0,Z.Lr)(e),a=(t.className,(0,y.Z)(t,z));return(0,u.jsx)(_.m.h2,(0,p.Z)((0,p.Z)({ref:n,className:(0,S.cx)("chakra-heading",e.className)},a),{},{__css:r}))}));N.displayName="Heading";var L=function(){var e=(0,s.v9)(o.Vp);return(0,u.jsxs)(b.xu,{w:"450px",mx:"auto",my:"5",padding:"15px 15px 15px 15px",boxShadow:"rgba(3, 3, 3, 0.24) 0px 3px 8px;",borderRadius:"20px",children:[!e&&(0,u.jsx)(a.Fg,{to:"/",replace:!0}),(0,u.jsx)(N,{textAlign:"center",children:"Phonebook"}),(0,u.jsx)(C,{}),(0,u.jsx)(N,{textAlign:"center",children:"Contacts"}),(0,u.jsx)(l,{}),(0,u.jsx)(v,{})]})}}}]);
//# sourceMappingURL=60.77dea942.chunk.js.map